{
    "Meshes":
    {
        "fluid":
        {
            "DistanceToRange":
            {
                "wall1":
                {
                    "markers":["Top","Bottom","Walls"],
                    "normalization":"min_max"
                },
                "wall2":
                {
                    "markers":"EllipseSurface",
                    "normalization":"min_max"
                }
            },
            "MeshAdaptation":[
                {
                    "metric":"min(mymetric_wall1,mymetric_wall2):mymetric_wall1:mymetric_wall2",
                    "required_markers":["EllipseSurface","Top","Bottom","Walls","EllipseVolume"],
                    "events":{
                        "after_import":{}
                    }
                },
                {
		    "metric":"min(mymetric_wall1,mymetric_wall2):mymetric_wall1:mymetric_wall2",
                    "required_markers":["EllipseSurface","Top","Bottom","Walls","EllipseVolume"],
                    "events":{
                        "each_time_step":{                            
                            "min_quality":0.4
                        }
                    }
                }]
        }
    },
    "Parameters":
    {
        "hfar":0.01,
        "hclose_wall1":"hfar:hfar",
        "hclose_wall2":"hfar:hfar",
        "d2r_bounded_wall1":"min(meshes_fluid_distanceToRange_wall1_normalized_min_max,0.2)/0.2:meshes_fluid_distanceToRange_wall1_normalized_min_max",
        "mymetric_wall1":"hclose_wall1+(hfar-hclose_wall1)*d2r_bounded_wall1:hclose_wall1:hfar:d2r_bounded_wall1",
        "d2r_bounded_wall2":"min(meshes_fluid_distanceToRange_wall2_normalized_min_max,0.2)/0.2:meshes_fluid_distanceToRange_wall2_normalized_min_max",
        "mymetric_wall2":"hclose_wall2+(hfar-hclose_wall2)*d2r_bounded_wall2:hclose_wall2:hfar:d2r_bounded_wall2"	
    },
    "AAPostProcess":
    {
        "fluid":
        {
            "Exports":
            {
                "expr":{
                    "d2r_wall2":"meshes_fluid_distanceToRange_wall2:meshes_fluid_distanceToRange_wall2",
                    "d2r_wall2_normalized_minmax":"meshes_fluid_distanceToRange_wall2_normalized_min_max:meshes_fluid_distanceToRange_wall2_normalized_min_max"
                }
            }
        }
    }
}
